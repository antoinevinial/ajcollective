!function t(e,i,s){function n(a,r){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return n(i?i:t)},u,u.exports,t,e,i,s)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,e,i){var s=t("./modules/content.js");$(function(){s.init()})},{"./modules/content.js":4}],2:[function(t,e,i){var s={init:function(){$.each($(".js-carousel"),function(){$(this).carouselPlugin()})}};e.exports=s},{}],3:[function(t,e,i){var s={ui:{},init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$body=$("body"),this.ui.$toggle=$(".js-contact-toggle")},bindEvents:function(){this.ui.$win.on("keydown",$.proxy(this.keyboardHandler,this)),this.ui.$toggle.on("click",$.proxy(this.toggleContact,this))},keyboardHandler:function(t){27==t.keyCode&&this.ui.$body.hasClass("is-contact-open")&&this.ui.$body.removeClass("is-contact-open")},toggleContact:function(t){t.preventDefault(),this.ui.$body.toggleClass("is-contact-open")}};e.exports=s},{}],4:[function(t,e,s){var n=(t("jquery-mousewheel")($),t("./../plugins/jquery.carousel.js"),t("./slideshow.js")),o=t("./nav.js"),a=t("./panel.js"),r=t("./carousel.js"),l=t("./contact.js"),h=t("./splash.js"),u=t("./popin.js"),c={ui:{},JSON:"",init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$main=$(".js-main"),this.ui.$navList=$(".js-nav-list")},bindEvents:function(){this.getContent()},getContent:function(){var t=this;$.getJSON("../data.json",function(e){t.JSON=e}).done(function(){t.buildNav(),t.buildPanels(),n.init(),o.init(),a.init(),r.init(),l.init(),h.init(),u.init()})},buildNav:function(){var t="";$.each(this.JSON,function(){t+='<li class="nav__item">',t+='<a class="nav__link js-nav-link" href="#'+this.id+'">',t+='<h2 class="nav__link__name">'+this.name+"</h2>",t+='<h3 class="nav__link__jobtitle">'+this.jobtitle+"</h3>",this.thumbnail&&(t+='<img class="nav__link__img js-nav-img" src="'+this.thumbnail+'"/>'),t+="</a></li>"}),$.each(this.ui.$navList,function(){$(this).html("").append(t)})},buildPanels:function(){var t=this,e="";$.each(this.JSON,function(){if(e+='<section class="panel panel--black js-panel is-bottom" id="'+this.id+'">',e+='<div class="panel__container">',e+='<div class="grid">',e+='<div class="cell-31 prepend-5">',"researcher"==this.template){for(e+='<div class="carousel js-carousel">',e+='<ul class="carousel__slider js-carousel-slider">',e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text">',e+='<h2 class="heading-2">'+this.name+"</h2>",e+='<span class="carousel__jobtitle">'+this.jobtitle+"</span>",e+='<p class="carousel__txt">'+this.description+"</p>",e+="</li>",i=0;i<this.medias.length;i++){var s=this.medias[i];-1!=s.search("vimeo")?(e+='<li class="carousel__item js-carousel-item js-carousel-item--video" data-index="'+(i+1)+'">',e+='<div class="carousel__item__container">',e+='<div class="carousel__video">',e+=this.medias[i],e+="</div>"):(e+='<li class="carousel__item js-carousel-item" data-index="'+(i+1)+'">',e+='<div class="carousel__item__container">',e+='<img class="carousel__img" src="'+this.medias[i]+'"/>',e+='<a class="carousel__full js-carousel-full-btn" href="#"><svg class="icon icon-full" viewBox="0 0 20 20"><path d="M7,9 L7,11 L1,17 L1,15 L0,15 L0,20 L5,20 L5,19 L3,19 L9,13 L11,13 L17,19 L15,19 L15,20 L20,20 L20,15 L19,15 L19,17 L13,11 L13,9 L19,3 L19,5 L20,5 L20,0 L15,0 L15,1 L17,1 L11,7 L9,7 L3,1 L5,1 L5,0 L0,0 L0,5 L1,5 L1,3 L7,9 Z"></path></svg></a>'),e+="</div>",e+="</li>"}e+="</ul>"}else if("writer"==this.template){for(e+='<div class="carousel carousel--writer js-carousel">',e+='<ul class="carousel__slider js-carousel-slider">',e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text" data-index="'+(i+1)+'">',e+='<h2 class="heading-2">'+this.name+"</h2>",e+='<span class="carousel__jobtitle">'+this.jobtitle+"</span>",e+='<p class="carousel__txt">'+this.description+"</p>",e+="</li>",i=0;i<this.documents.length;i++)e+='<li class="carousel__item carousel-item--doc js-carousel-item js-carousel-item--doc" data-index="'+(i+1)+'">',e+='<div class="carousel__doc">',e+='<span class="carousel__doc__title">'+this.documents[i].title+"</span>",e+='<span class="carousel__doc__type">'+this.documents[i].type+"</span>",e+='<span class="carousel__doc__pages">'+this.documents[i].pages+"</span>",e+='<a class="carousel__doc__overlay" href="'+this.documents[i].link+'" target="_blank">',e+='<span class="carousel__doc__btn"><svg class="icon icon-pdf" viewBox="0 0 18 20"><path d="M6,0 L18,0 L18,2 L6,2 L6,0 Z M16,2 L18,2 L18,15 L16,15 L16,2 Z M12,13 L16,13 L16,15 L12,15 L12,13 Z M6,2 L8,2 L8,5 L6,5 L6,2 Z M0,5 L12,5 L12,7 L0,7 L0,5 Z M10,7 L12,7 L12,20 L10,20 L10,7 Z M0,18 L10,18 L10,20 L0,20 L0,18 Z M0,7 L2,7 L2,18 L0,18 L0,7 Z"></path></svg></span>',e+="</a>",e+="</div>",e+="</li>";e+="</ul>"}else if("other"==this.template){for(e+='<div class="carousel carousel--other js-carousel">',e+='<ul class="carousel__slider js-carousel-slider">',e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text" data-index="'+(i+1)+'">',e+='<h2 class="heading-2">'+this.name+"</h2>",e+='<span class="carousel__jobtitle">'+this.jobtitle+"</span>",e+='<p class="carousel__txt">'+this.description+"</p>",e+="</li>",i=0;i<this.texts.length;i++)e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text" data-index="'+(i+1)+'">',e+='<p class="carousel__txt">'+this.texts[i]+"</p>",e+="</li>";e+="</ul>"}e+='<div class="carousel__pager">',e+='<button class="carousel__btn carousel__btn--prev js-carousel-btn js-carousel-btn-prev" data-direction="prev" href="#"></button>',e+='<button class="carousel__btn carousel__btn--next js-carousel-btn js-carousel-btn-next" data-direction="next" href="#"></button>',e+="</div>",e+='<div class="carousel__viewer js-carousel-viewer">',e+='<div class="carousel__viewer__rectangle"></div>',e+='<div class="carousel__viewer__slider js-carousel-viewer-slider"></div>',e+="</div>",e+='<a class="carousel__close js-carousel-full-btn js-carousel-full-close" href="#">leave full screen view',e+='<span class="carousel__close__btn"><svg class="icon icon-close" viewBox="0 0 20 20"><path d="M0,2.12133113 L18.0001831,20.1213311 L20.1214927,18 L2.12130955,0 L0,2.12133113 L0,2.12133113 Z"></path><path d="M17.8914413,0 L0,17.8915564 L2.10855875,20 L20,2.10844362 L17.8914413,0 L17.8914413,0 Z"></path></svg></span>',e+="</a>",e+="</div>",e+="</div>",e+="</div>",e+='<div class="panel__pager">',e+='<div class="panel__btn panel__btn--top panel__btn--bordered panel__btn--bordered--top">',e+='<span class="panel__btn__label panel__btn__label--left panel__btn__label--lrg">AJCollective</span>',e+=t.JSON[this.id-1]?'<a class="panel__btn__label panel__btn__label--bordered js-panel-move js-panel-move--top" data-direction="top" href="#'+(this.id-1)+'">Prev '+t.JSON[this.id-1].jobtitle+"</a>":'<a class="panel__btn__label panel__btn__label--bordered js-panel-move js-panel-move--top" data-direction="top" href="#home">Back home</a>',e+='<a class="panel__btn__label panel__btn__label--right js-contact-toggle" href="#">About / Contact</a>',e+="</div>",t.JSON[this.id+1]?(e+='<div class="panel__btn panel__btn--bottom panel__btn--bordered panel__btn--bordered--bottom">',e+='<a class="panel__btn__label js-panel-move js-panel-move--bottom" data-direction="bottom" href="#'+(this.id+1)+'">Next '+t.JSON[this.id+1].jobtitle+"</a>",e+="</div>"):e+='<div class="panel__btn panel__btn--bottom"></div>',e+='<div class="panel__btn panel__btn--left">',e+='<a class="panel__btn__label js-nav-toggle" href="#">Creatives</a>',e+="</div>",e+="</div>",e+="</div>",e+="</section>"}),this.ui.$main.append(e)}};e.exports=c},{"./../plugins/jquery.carousel.js":10,"./carousel.js":2,"./contact.js":3,"./nav.js":5,"./panel.js":6,"./popin.js":7,"./slideshow.js":8,"./splash.js":9,"jquery-mousewheel":14}],5:[function(t,e,s){var n={ui:{},timerNav:350,timerPanel:500,init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$body=$("body"),this.ui.$nav=$(".js-nav"),this.ui.$navList=$(".js-nav-list"),this.ui.$panels=$(".js-panel"),this.ui.$toggle=$(".js-nav-toggle"),this.ui.$links=$(".js-nav-link"),this.ui.$imgs=$(".js-nav-img"),this.ui.$panels=$(".js-panel"),this.ui.$navMobile=$(".js-nav-mobile"),this.ui.$navMobileLinks=this.ui.$navMobile.find(".js-nav-link"),this.ui.$navMobilePanels=this.ui.$navMobile.find(".js-nav-mobile-panel"),this.ui.$navMobileBtn=this.ui.$navMobile.find(".js-nav-mobile-btn"),this.ui.$navMobilePanelBtn=this.ui.$navMobile.find(".js-nav-mobile-btn-panel"),this.ui.$navMobilePanelLinks=this.ui.$navMobile.find(".js-nav-mobile-panel-link")},bindEvents:function(){var t=this;this.ui.$toggle.on("click",$.proxy(this.toggleNav,this)),this.ui.$links.on("click",$.proxy(this.getClickedLink,this)),this.ui.$panels.on("mouseenter",$.proxy(this.hideImgs,this)),this.ui.$toggle.on("mouseenter",$.proxy(this.hideImgs,this)),this.ui.$links.on("mousemove",t.throttle(function(e){t.overHandler(e)},20)),this.ui.$navMobileBtn.on("click",$.proxy(this.toggleNavMobile,this)),this.ui.$navMobilePanelBtn.on("click",$.proxy(this.hideNavMobilePanel,this)),this.ui.$navMobilePanelLinks.on("click",$.proxy(this.switchPanel,this)),this.ui.$navMobileLinks.on("click",$.proxy(this.hideNavMobilePanel,this))},overHandler:function(t){var e=$(t.currentTarget),i=e.find(".js-nav-img");X=t.pageX,Y=t.pageY-e.offset().top,this.ui.$links.not(e).removeClass("is-hover"),i.css({"-webkit-transform":"translate("+X+"px,"+Y+"px)","-moz-transform":"translate("+X+"px,"+Y+"px)","-ms-transform":"translate("+X+"px,"+Y+"px)","-o-transform":"translate("+X+"px,"+Y+"px)",transform:"translate("+X+"px,"+Y+"px)"}),e.hasClass("is-hover")||setTimeout(function(){e.addClass("is-hover")},80)},hideImgs:function(){this.ui.$links.removeClass("is-hover")},toggleNav:function(t){t.preventDefault(),this.ui.$body.toggleClass("is-nav-open"),this.ui.$links.removeClass("is-hover")},getClickedLink:function(t){var e=this,i=$(t.currentTarget);t.preventDefault(),this.ui.$body.removeClass("is-nav-open is-nav-mobile-open is-nav-mobile-panel-open"),this.ui.$links.removeClass("is-active"),$(t.currentTarget).addClass("is-active"),setTimeout(function(){e.goToPanel(i)},this.timerNav)},goToPanel:function(t){var e=this,s=t.attr("href"),n=$(".js-panel.is-active"),o=$(s);this.ui.$panels.not(n).not(o).addClass("no-transition");var a=this.ui.$navList.find("li").index(t.parent());for($.each(this.ui.$panels,function(){$(this).not(n).removeClass("is-top").addClass("is-bottom")}),i=0;i<a+1;i++)$(this.ui.$panels[i]).not(n).removeClass("is-bottom").addClass("is-top");var r=n.attr("id").replace("#",""),l=o.attr("id").replace("#","");l>r||"home"==r?(n.removeClass("is-active").addClass("is-top"),o.removeClass("is-top is-bottom").addClass("is-active")):(n.removeClass("is-active").addClass("is-bottom"),o.removeClass("is-top is-bottom").addClass("is-active")),setTimeout(function(){e.ui.$panels.removeClass("no-transition")},this.timerPanel)},toggleNavMobile:function(){this.ui.$body.toggleClass("is-nav-mobile-open")},hideNavMobilePanel:function(){var t=this;this.ui.$navMobilePanels.addClass("no-transition").addClass("is-hidden"),this.ui.$body.removeClass("is-nav-mobile-panel-open"),setTimeout(function(){t.ui.$navMobilePanels.removeClass("no-transition")},this.timerNav)},switchPanel:function(t){t.preventDefault();var e=$(t.currentTarget).attr("href"),i=$(e);i.removeClass("is-hidden"),this.ui.$body.addClass("is-nav-mobile-panel-open")},throttle:function(t,e){var i,s;return function(){var n=this,o=+new Date,a=arguments;i&&i+e>o?(clearTimeout(s),s=setTimeout(function(){i=o,t.apply(n,a)},e)):(i=o,t.apply(n,a))}}};e.exports=n},{}],6:[function(t,e,i){var s={ui:{},scroll:0,timerPanel:500,isAnimated:!1,touch:{isCalculating:!1,start:0,move:0,delta:0},init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$body=$("body"),this.ui.$panels=$(".js-panel"),this.ui.$active=$(".js-panel.is-active"),this.ui.$move=$(".js-panel-move"),this.ui.$navItems=$(".js-nav-list").find("li"),this.ui.$navLink=$(".js-nav-link"),this.ui.$btnTop=this.ui.$active.find(".js-panel-move--top"),this.ui.$btnBottom=this.ui.$active.find(".js-panel-move--bottom")},bindEvents:function(){this.ui.$win.on("mousewheel",$.proxy(this.scrollHandler,this)),this.ui.$win.on("keydown",$.proxy(this.keydownHandler,this)),this.ui.$move.on("click",$.proxy(this.movePanel,this)),this.ui.$navLink.on("click",$.proxy(this.updatePanel,this)),this.ui.$win.on("touchstart",$.proxy(this.touchStart,this)),this.ui.$win.on("touchmove",$.proxy(this.touchMove,this)),this.ui.$win.on("touchend",$.proxy(this.touchEnd,this))},scrollHandler:function(t){this.isAnimated||this.ui.$body.hasClass("is-nav-open")||!this.isDesktop()||(t.deltaY<=-50&&this.ui.$btnBottom.length?this.ui.$btnBottom.click():t.deltaY>50&&this.ui.$btnTop&&this.ui.$btnTop.click())},keydownHandler:function(t){40==t.keyCode&&this.ui.$btnBottom.length&&this.ui.$btnBottom.click(),38==t.keyCode&&this.ui.$btnTop.length&&this.ui.$btnTop.click(),39==t.keyCode&&$(".js-panel.is-active").find(".js-carousel-btn-next").click(),37==t.keyCode&&$(".js-panel.is-active").find(".js-carousel-btn-prev").click()},touchStart:function(t){this.isDesktop()&&(this.isNavOpen()||(this.touch.start=t.originalEvent.touches[0].pageY,this.touch.move=t.originalEvent.touches[0].pageY))},touchMove:function(t){this.isDesktop()&&(this.isNavOpen()||this.ui.$body.hasClass("is-contact-open")||(t.preventDefault(),this.touch.move=t.originalEvent.touches[0].pageY))},touchEnd:function(){var t=this;this.isDesktop()&&(this.isNavOpen()||this.touch.isCalculating||Math.abs(this.touch.move-this.touch.start)<125||(this.touch.isCalculating=!0,this.touch.start>this.touch.move&&this.ui.$btnBottom&&0!=this.touch.move?this.ui.$btnBottom.click():this.touch.start<this.touch.move&&this.ui.$btnTop&&0!=this.touch.move&&this.ui.$btnTop.click(),setTimeout(function(){t.touch.isCalculating=!1},this.timerPanel)))},movePanel:function(t){var e=this,i=$(t.currentTarget);if(!this.isAnimated&&!this.ui.$body.hasClass("is-carousel-full")){t.preventDefault(),this.isAnimated=!0;var s=$(i.attr("href")),n=i.data("direction");"bottom"==n?this.ui.$active.addClass("is-top"):this.ui.$active.addClass("is-bottom"),this.ui.$active.removeClass("is-active"),s.removeClass("is-top is-bottom").addClass("is-active"),this.updateUIEvents(s),setTimeout(function(){s.find(".js-carousel-btn-next").focus(),e.isAnimated=!1},this.timerPanel)}},updatePanel:function(t){var e=$($(t.currentTarget).attr("href"));this.updateUIEvents(e)},updateUIEvents:function(t){this.ui.$active=t;var e=this.ui.$active.attr("id");this.ui.$btnTop=this.ui.$active.find(".js-panel-move--top"),this.ui.$btnBottom=this.ui.$active.find(".js-panel-move--bottom"),"home"!=e?(this.ui.$navLink.removeClass("is-active"),this.ui.$navItems.eq(e).find(".js-nav-link").addClass("is-active")):this.ui.$navLink.removeClass("is-active")},isNavOpen:function(){return this.ui.$body.hasClass("is-nav-open")?!0:!1},isDesktop:function(){return this.ui.$win.outerWidth()>768?!0:!1}};e.exports=s},{}],7:[function(t,e,i){var s={ui:{},init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$popin=$(".js-popin"),this.ui.$video=$(".js-popin-video"),this.ui.$toggle=$(".js-popin-toggle"),this.ui.$close=$(".js-popin-close")},bindEvents:function(){this.ui.$win.on("keydown",$.proxy(this.keyboardHandler,this)),this.ui.$toggle.on("click",$.proxy(this.createIframe,this)),this.ui.$close.on("click",$.proxy(this.closePopin,this))},keyboardHandler:function(t){27==t.keyCode&&this.closePopin()},createIframe:function(t){var e=$(t.currentTarget),i="";t.preventDefault();var s=e.attr("href"),n=e.data("title"),o=e.data("author");i+='<div class="iframe">',i+='<iframe src="'+s+'"></iframe>',i+="</div>",i+='<h2 class="popin__author">'+o+"</h2>",i+='<p class="popin__title">'+n+"</p>",console.log(i),this.ui.$video.html("").append(i),this.ui.$popin.removeClass("is-hidden")},closePopin:function(t){t&&t.preventDefault(),this.ui.$video.html(""),this.ui.$popin.addClass("is-hidden")}};e.exports=s},{}],8:[function(t,e,i){var s={ui:{},intervalListener:"",itemActive:0,timer:400,init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$slideshow=$(".js-slideshow"),this.ui.$home=$("#home"),this.ui.$items=this.ui.$slideshow.find(".js-slideshow-item"),this.ui.$move=$(".js-panel-move")},bindEvents:function(){this.launchSlideshow(),this.ui.$move.on("click",$.proxy(this.playPauseSlideshow,this))},playPauseSlideshow:function(){var t=this;setTimeout(function(){t.ui.$home.hasClass("is-active")?t.launchSlideshow():t.pauseSlideshow()},20)},launchSlideshow:function(){var t=this;intervalListener=setInterval(function(){t.changeSlide(),t.changeColor()},this.timer)},pauseSlideshow:function(){window.clearInterval(intervalListener)},changeSlide:function(){this.itemActive==this.ui.$items.length-1?this.itemActive=0:this.itemActive++,this.ui.$items.removeClass("is-active"),$(this.ui.$items[this.itemActive]).addClass("is-active")},changeColor:function(){var t=$(this.ui.$items[this.itemActive]).data("color");this.ui.$home.css({"background-color":t})}};e.exports=s},{}],9:[function(t,e,i){var s=(t("imagesloaded"),{ui:{},imgsLength:0,imgsLoaded:0,init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$splash=$(".js-splash")},bindEvents:function(){var t=this;setTimeout(function(){t.toggleSplash()},3e3)},toggleSplash:function(){this.ui.$splash.removeClass("is-visible")}});e.exports=s},{imagesloaded:11}],10:[function(t,e,s){!function(t){t.fn.carouselPlugin=function(e){var s={$el:t(this)},e=t.extend(s,e);return this.each(function(){var s={ui:{},itemActive:0,nbItems:0,timerLinks:250,timerCarousel:350,touch:{isCalculating:!1,start:0,move:0,delta:0},init:function(){this.bindUI(),this.bindEvents(),this.initCarousel()},bindUI:function(){this.ui.$win=t(window),this.ui.$body=t("body"),this.ui.$loader=t(".js-loader"),this.ui.$carousel=e.$el,this.ui.$slider=this.ui.$carousel.find(".js-carousel-slider"),this.ui.$items=this.ui.$carousel.find(".js-carousel-item"),this.ui.$fullBtn=this.ui.$carousel.find(".js-carousel-full-btn"),this.ui.$viewer=this.ui.$carousel.find(".js-carousel-viewer"),this.ui.$viewerSlider=this.ui.$carousel.find(".js-carousel-viewer-slider"),this.ui.$btns=this.ui.$carousel.find(".js-carousel-btn"),this.ui.$prev=this.ui.$carousel.find(".js-carousel-btn-prev"),this.ui.$next=this.ui.$carousel.find(".js-carousel-btn-next")},bindEvents:function(){this.ui.$win.on("resize",t.proxy(this.initCarousel,this)),this.ui.$win.on("load",t.proxy(this.initCarousel,this)),this.ui.$btns.on("click",t.proxy(this.prevNext,this)),this.ui.$win.on("keydown",t.proxy(this.keyboardHandler,this)),this.ui.$fullBtn.on("click",t.proxy(this.toggleFullScreen,this)),this.ui.$carousel.on("touchstart",t.proxy(this.touchStart,this)),this.ui.$carousel.on("touchmove",t.proxy(this.touchMove,this)),this.ui.$carousel.on("touchend",t.proxy(this.touchEnd,this))},initCarousel:function(){this.itemActive=0,this.nbItems=this.ui.$items.length,this.initViewer(),this.translateSlider(),this.translateViewer(),this.updateBtns()},keyboardHandler:function(t){27==t.keyCode&&this.ui.$body.hasClass("is-carousel-full")&&this.exitFullScreen()},touchStart:function(t){this.isDesktop()&&(this.touch.start=t.originalEvent.touches[0].pageX,this.touch.move=t.originalEvent.touches[0].pageX)},touchMove:function(t){this.isDesktop()&&(t.preventDefault(),this.touch.move=t.originalEvent.touches[0].pageX)},touchEnd:function(){this.isDesktop()&&(Math.abs(this.touch.move-this.touch.start)<50||(this.touch.move<this.touch.start&&!this.ui.$next.hasClass("is-fade")&&0!=this.touch.move?this.ui.$next.click():this.touch.move>this.touch.start&&!this.ui.$prev.hasClass("is-fade")&&0!=this.touch.move&&this.ui.$prev.click()))},initViewer:function(){var e="";t.each(this.ui.$items,function(){var i=t(this),s=i.index();i.hasClass("js-carousel-item--text")&&(e+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',e+='<svg class="icon icon-text" viewBox="0 0 30 39"><rect fill="#FFFFFF" x="0" y="0" width="25" height="2"></rect><rect fill="#FFFFFF" x="0" y="7" width="30" height="2"></rect><rect fill="#4D4D4D" x="0" y="14" width="30" height="1"></rect><rect fill="#4D4D4D" x="0" y="18" width="25" height="1"></rect><rect fill="#4D4D4D" x="0" y="22" width="30" height="1"></rect><rect fill="#4D4D4D" x="0" y="26" width="25" height="1"></rect><rect fill="#4D4D4D" x="0" y="30" width="30" height="1"></rect><rect fill="#4D4D4D" x="0" y="34" width="25" height="1"></rect><rect fill="#4D4D4D" x="0" y="38" width="20" height="1"></rect></svg>',e+="</li>"),i.hasClass("js-carousel-item--video")&&(e+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',e+='<img class="carousel__viewer__img" src="'+i.find("iframe").data("thumbnail")+'"/>',e+="</li>"),i.hasClass("js-carousel-item--doc")&&(e+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',e+='<svg class="icon icon-pdf--sml" viewBox="0 0 26 40"><rect x="0" y="0" width="26" height="40"></rect></svg>',e+="</li>"),i.find("img").length&&(e+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',e+='<img class="carousel__viewer__img" src="'+i.find("img").attr("src")+'"/>',e+="</li>")}),this.ui.$viewerSlider.html("").append(e),this.ui.$viewerItems=this.ui.$carousel.find(".js-carousel-viewer-item"),this.ui.$viewerItems.on("click",t.proxy(this.goTo,this))},goTo:function(e){var i=t(e.currentTarget).data("index");this.itemActive=i,this.translateSlider(),this.translateViewer()},prevNext:function(e){var i=t(e.currentTarget).data("direction");("prev"!=i||0!=this.itemActive)&&("next"!=i||this.itemActive!=this.nbItems-1)&&("next"==i?this.itemActive++:this.itemActive--,this.translateSlider(),this.translateViewer())},translateSlider:function(){var e=0;for(i=0;i<this.itemActive;i++)e-=t(this.ui.$items[i]).outerWidth();this.ui.$slider.css({"-webkit-transform":"translate("+e+"px,0)","-moz-transform":"translate("+e+"px,0)","-ms-transform":"translate("+e+"px,0)","-o-transform":"translate("+e+"px,0)",transform:"translate("+e+"px,0)"}),this.ui.$items.removeClass("is-active"),t(this.ui.$items[this.itemActive]).addClass("is-active"),this.updateBtns()},translateViewer:function(){var e=0;for(i=0;i<this.itemActive;i++)e-=t(this.ui.$viewerItems[i]).outerWidth();this.ui.$viewerSlider.css({"-webkit-transform":"translate("+e+"px,0)","-moz-transform":"translate("+e+"px,0)","-ms-transform":"translate("+e+"px,0)","-o-transform":"translate("+e+"px,0)",transform:"translate("+e+"px,0)"})},updateBtns:function(){0==this.itemActive?(this.ui.$prev.addClass("is-fade"),this.ui.$next.removeClass("is-fade")):this.itemActive==this.ui.$items.length-1?(this.ui.$prev.removeClass("is-fade"),this.ui.$next.addClass("is-fade")):this.ui.$btns.removeClass("is-fade")},toggleFullScreen:function(e){var i=this;e&&e.preventDefault(),this.ui.$loader.addClass("is-visible"),setTimeout(function(){i.ui.$body.toggleClass("is-carousel-full"),setTimeout(function(){e&&!t(e.currentTarget).hasClass("js-carousel-full-close")&&(i.itemActive=t(e.currentTarget).closest(".js-carousel-item").data("index")),i.translateSlider(),i.translateViewer(),setTimeout(function(){i.ui.$loader.removeClass("is-visible")},i.timerCarousel)},i.timerCarousel)},this.timerLinks)},exitFullScreen:function(){var t=this;this.ui.$loader.addClass("is-visible"),setTimeout(function(){t.ui.$body.removeClass("is-carousel-full"),setTimeout(function(){t.ui.$loader.removeClass("is-visible")},t.timerCarousel)},this.timerLinks)},isDesktop:function(){return this.ui.$win.outerWidth()>768?!0:!1}};s.init()})}}(jQuery)},{}],11:[function(t,e,i){!function(i,s){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return s(i,t,e)}):"object"==typeof e&&e.exports?e.exports=s(i,t("wolfy87-eventemitter"),t("eventie")):i.imagesLoaded=s(i,i.EventEmitter,i.eventie)}(window,function(t,e,i){"use strict";function s(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"==c.call(t)}function o(t){var e=[];if(n(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function a(t,e,i){if(!(this instanceof a))return new a(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=s({},this.options),"function"==typeof e?i=e:s(this.options,e),i&&this.on("always",i),this.getImages(),h&&(this.jqDeferred=new h.Deferred);var n=this;setTimeout(function(){n.check()})}function r(t){this.img=t}function l(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,u=t.console,c=Object.prototype.toString;a.prototype=new e,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},a.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),s=0;s<i.length;s++){var n=i[s];this.addImage(n)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(s=0;s<o.length;s++){var a=o[s];this.addElementBackgroundImages(a)}}}};var d={1:!0,9:!0,11:!0};a.prototype.addElementBackgroundImages=function(t){for(var e=v(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,s=i.exec(e.backgroundImage);null!==s;){var n=s&&s[1];n&&this.addBackground(n,t),s=i.exec(e.backgroundImage)}};var v=t.getComputedStyle||function(t){return t.currentStyle};return a.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},a.prototype.addBackground=function(t,e){var i=new l(t,e);this.images.push(i)},a.prototype.check=function(){function t(t,i,s){setTimeout(function(){e.progress(t,i,s)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var i=0;i<this.images.length;i++){var s=this.images[i];s.once("progress",t),s.check()}},a.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+i,t,e)},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=new e,r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype=new r,l.prototype.check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},a.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new a(this,t,e);return i.jqDeferred.promise(h(this))})},a.makeJQueryPlugin(),a})},{eventie:12,"wolfy87-eventemitter":13}],12:[function(t,e,i){!function(t){"use strict";function s(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var n=document.documentElement,o=function(){};n.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:n.attachEvent&&(o=function(t,e,i){t[e+i]=i.handleEvent?function(){var e=s(t);i.handleEvent.call(i,e)}:function(){var e=s(t);i.call(t,e)},t.attachEvent("on"+e,t[e+i])});var a=function(){};n.removeEventListener?a=function(t,e,i){t.removeEventListener(e,i,!1)}:n.detachEvent&&(a=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(s){t[e+i]=void 0}});var r={bind:o,unbind:a};"function"==typeof define&&define.amd?define(r):"object"==typeof i?e.exports=r:t.eventie=r}(window)},{}],13:[function(t,e,i){(function(){"use strict";function t(){}function i(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function s(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,a=o.EventEmitter;n.getListeners=function(t){var e,i,s=this._getEvents();if(t instanceof RegExp){e={};for(i in s)s.hasOwnProperty(i)&&t.test(i)&&(e[i]=s[i])}else e=s[t]||(s[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,e){var s,n=this.getListenersAsObject(t),o="object"==typeof e;for(s in n)n.hasOwnProperty(s)&&-1===i(n[s],e)&&n[s].push(o?e:{listener:e,once:!1});return this},n.on=s("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=s("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var s,n,o=this.getListenersAsObject(t);for(n in o)o.hasOwnProperty(n)&&(s=i(o[n],e),-1!==s&&o[n].splice(s,1));return this},n.off=s("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var s,n,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(s=i.length;s--;)o.call(this,e,i[s]);else for(s in e)e.hasOwnProperty(s)&&(n=e[s])&&("function"==typeof n?o.call(this,s,n):a.call(this,s,n));return this},n.removeEvent=function(t){var e,i=typeof t,s=this._getEvents();if("string"===i)delete s[t];else if(t instanceof RegExp)for(e in s)s.hasOwnProperty(e)&&t.test(e)&&delete s[e];else delete this._events;return this},n.removeAllListeners=s("removeEvent"),n.emitEvent=function(t,e){var i,s,n,o,a,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].slice(0),n=i.length;n--;)s=i[n],s.once===!0&&this.removeListener(t,s.listener),a=s.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,s.listener);return this},n.trigger=s("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=a,
t},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof e&&e.exports?e.exports=t:o.EventEmitter=t}).call(this)},{}],14:[function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof i?e.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,r=l.call(arguments,1),h=0,c=0,d=0,v=0,m=0,p=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(c=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=-1*d,d=0),h=0===d?c:d,"deltaY"in a&&(d=-1*a.deltaY,h=d),"deltaX"in a&&(c=a.deltaX,0===d&&(h=-1*c)),0!==d||0!==c){if(1===a.deltaMode){var f=t.data(this,"mousewheel-line-height");h*=f,d*=f,c*=f}else if(2===a.deltaMode){var g=t.data(this,"mousewheel-page-height");h*=g,d*=g,c*=g}if(v=Math.max(Math.abs(d),Math.abs(c)),(!o||o>v)&&(o=v,s(a,v)&&(o/=40)),s(a,v)&&(h/=40,c/=40,d/=40),h=Math[h>=1?"floor":"ceil"](h/o),c=Math[c>=1?"floor":"ceil"](c/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var $=this.getBoundingClientRect();m=e.clientX-$.left,p=e.clientY-$.top}return e.deltaX=c,e.deltaY=d,e.deltaFactor=o,e.offsetX=m,e.offsetY=p,e.deltaMode=0,r.unshift(e,h,c,d),n&&clearTimeout(n),n=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){o=null}function s(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var n,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var h=a.length;h;)t.event.fixHooks[a[--h]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),s=i["offsetParent"in t.fn?"offsetParent":"parent"]();return s.length||(s=t("body")),parseInt(s.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},{}]},{},[1]);