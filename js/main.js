!function t(i,e,s){function n(a,r){if(!e[a]){if(!i[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=e[a]={exports:{}};i[a][0].call(u.exports,function(t){var e=i[a][1][t];return n(e?e:t)},u,u.exports,t,i,e,s)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,i,e){var s=t("./modules/content.js");$(function(){s.init()})},{"./modules/content.js":4}],2:[function(t,i,e){var s={init:function(){$.each($(".js-carousel"),function(){$(this).carouselPlugin()})}};i.exports=s},{}],3:[function(t,i,e){var s={ui:{},init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$body=$("body"),this.ui.$toggle=$(".js-contact-toggle")},bindEvents:function(){this.ui.$win.on("keydown",$.proxy(this.keyboardHandler,this)),this.ui.$toggle.on("click",$.proxy(this.toggleContact,this))},keyboardHandler:function(t){27==t.keyCode&&this.ui.$body.hasClass("is-contact-open")&&this.ui.$body.removeClass("is-contact-open")},toggleContact:function(t){t.preventDefault(),this.ui.$body.toggleClass("is-contact-open")}};i.exports=s},{}],4:[function(t,e,s){var n=(t("jquery-mousewheel")($),t("./../plugins/jquery.carousel.js"),t("./slideshow.js")),o=t("./nav.js"),a=t("./panel.js"),r=t("./carousel.js"),l=t("./contact.js"),h=t("./splash.js"),u=t("./popin.js"),c={ui:{},JSON:"",init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$main=$(".js-main"),this.ui.$navList=$(".js-nav-list")},bindEvents:function(){this.getContent()},getContent:function(){var t=this;$.getJSON("../data.json",function(i){t.JSON=i}).done(function(){t.buildNav(),t.buildPanels(),n.init(),o.init(),a.init(),r.init(),l.init(),h.init(),u.init()})},buildNav:function(){var t="";$.each(this.JSON,function(){t+='<li class="nav__item">',t+='<a class="nav__link js-nav-link" href="#'+this.id+'">',t+='<h2 class="nav__link__name">'+this.name+"</h2>",t+='<h3 class="nav__link__jobtitle">'+this.jobtitle+"</h3>",this.thumbnail&&(t+='<img class="nav__link__img js-nav-img" src="'+this.thumbnail+'"/>'),t+="</a></li>"}),$.each(this.ui.$navList,function(){$(this).html("").append(t)})},buildPanels:function(){var t=this,e="";$.each(this.JSON,function(){if(e+='<section class="panel panel--black js-panel is-bottom" id="'+this.id+'">',e+='<div class="panel__container">',e+='<div class="grid">',e+='<div class="cell-31 prepend-5">',"researcher"==this.template){for(e+='<div class="carousel js-carousel">',e+='<ul class="carousel__slider js-carousel-slider">',e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text">',e+='<h2 class="heading-2">'+this.name+"</h2>",e+='<span class="carousel__jobtitle">'+this.jobtitle+"</span>",e+='<p class="carousel__txt">'+this.description+"</p>",e+="</li>",i=0;i<this.medias.length;i++){var s=this.medias[i];-1!=s.search("vimeo")?(e+='<li class="carousel__item js-carousel-item js-carousel-item--video" data-index="'+(i+1)+'">',e+='<div class="carousel__item__container">',e+='<div class="carousel__video">',e+=this.medias[i],e+="</div>"):(e+='<li class="carousel__item js-carousel-item" data-index="'+(i+1)+'">',e+='<div class="carousel__item__container">',e+='<img class="carousel__img" src="'+this.medias[i]+'"/>',e+='<a class="carousel__full js-carousel-full-btn" href="#"><svg class="icon icon-full" viewBox="0 0 20 20"><path d="M7,9 L7,11 L1,17 L1,15 L0,15 L0,20 L5,20 L5,19 L3,19 L9,13 L11,13 L17,19 L15,19 L15,20 L20,20 L20,15 L19,15 L19,17 L13,11 L13,9 L19,3 L19,5 L20,5 L20,0 L15,0 L15,1 L17,1 L11,7 L9,7 L3,1 L5,1 L5,0 L0,0 L0,5 L1,5 L1,3 L7,9 Z"></path></svg></a>'),e+="</div>",e+="</li>"}e+="</ul>"}else if("writer"==this.template){for(e+='<div class="carousel carousel--writer js-carousel">',e+='<ul class="carousel__slider js-carousel-slider">',e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text" data-index="'+(i+1)+'">',e+='<h2 class="heading-2">'+this.name+"</h2>",e+='<span class="carousel__jobtitle">'+this.jobtitle+"</span>",e+='<p class="carousel__txt">'+this.description+"</p>",e+="</li>",i=0;i<this.documents.length;i++)e+='<li class="carousel__item carousel-item--doc js-carousel-item js-carousel-item--doc" data-index="'+(i+1)+'">',e+='<div class="carousel__doc">',e+='<span class="carousel__doc__title">'+this.documents[i].title+"</span>",e+='<span class="carousel__doc__type">'+this.documents[i].type+"</span>",e+='<span class="carousel__doc__pages">'+this.documents[i].pages+"</span>",e+='<a class="carousel__doc__overlay" href="'+this.documents[i].link+'" target="_blank">',e+='<span class="carousel__doc__btn"><svg class="icon icon-pdf" viewBox="0 0 18 20"><path d="M6,0 L18,0 L18,2 L6,2 L6,0 Z M16,2 L18,2 L18,15 L16,15 L16,2 Z M12,13 L16,13 L16,15 L12,15 L12,13 Z M6,2 L8,2 L8,5 L6,5 L6,2 Z M0,5 L12,5 L12,7 L0,7 L0,5 Z M10,7 L12,7 L12,20 L10,20 L10,7 Z M0,18 L10,18 L10,20 L0,20 L0,18 Z M0,7 L2,7 L2,18 L0,18 L0,7 Z"></path></svg></span>',e+="</a>",e+="</div>",e+="</li>";e+="</ul>"}else if("other"==this.template){for(e+='<div class="carousel carousel--other js-carousel">',e+='<ul class="carousel__slider js-carousel-slider">',e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text" data-index="'+(i+1)+'">',e+='<h2 class="heading-2">'+this.name+"</h2>",e+='<span class="carousel__jobtitle">'+this.jobtitle+"</span>",e+='<p class="carousel__txt">'+this.description+"</p>",e+="</li>",i=0;i<this.texts.length;i++)e+='<li class="carousel__item carousel__item--text js-carousel-item js-carousel-item--text" data-index="'+(i+1)+'">',e+='<p class="carousel__txt">'+this.texts[i]+"</p>",e+="</li>";e+="</ul>"}e+='<div class="carousel__pager">',e+='<button class="carousel__btn carousel__btn--prev js-carousel-btn js-carousel-btn-prev" data-direction="prev" href="#"></button>',e+='<button class="carousel__btn carousel__btn--next js-carousel-btn js-carousel-btn-next" data-direction="next" href="#"></button>',e+="</div>",e+='<div class="carousel__viewer js-carousel-viewer">',e+='<div class="carousel__viewer__rectangle"></div>',e+='<div class="carousel__viewer__slider js-carousel-viewer-slider"></div>',e+="</div>",e+='<a class="carousel__close js-carousel-full-btn js-carousel-full-close" href="#">leave full screen view',e+='<span class="carousel__close__btn"><svg class="icon icon-close" viewBox="0 0 20 20"><path d="M0,2.12133113 L18.0001831,20.1213311 L20.1214927,18 L2.12130955,0 L0,2.12133113 L0,2.12133113 Z"></path><path d="M17.8914413,0 L0,17.8915564 L2.10855875,20 L20,2.10844362 L17.8914413,0 L17.8914413,0 Z"></path></svg></span>',e+="</a>",e+="</div>",e+="</div>",e+="</div>",e+='<div class="panel__pager">',e+='<div class="panel__btn panel__btn--top panel__btn--bordered panel__btn--bordered--top">',e+='<span class="panel__btn__label panel__btn__label--left panel__btn__label--lrg">AJCollective</span>',e+=t.JSON[this.id-1]?'<a class="panel__btn__label panel__btn__label--bordered js-panel-move js-panel-move--top" data-direction="top" href="#'+(this.id-1)+'">Prev '+t.JSON[this.id-1].jobtitle+"</a>":'<a class="panel__btn__label panel__btn__label--bordered js-panel-move js-panel-move--top" data-direction="top" href="#home">Back home</a>',e+='<a class="panel__btn__label panel__btn__label--right js-contact-toggle" href="#">About / Contact</a>',e+="</div>",t.JSON[this.id+1]?(e+='<div class="panel__btn panel__btn--bottom panel__btn--bordered panel__btn--bordered--bottom">',e+='<a class="panel__btn__label js-panel-move js-panel-move--bottom" data-direction="bottom" href="#'+(this.id+1)+'">Next '+t.JSON[this.id+1].jobtitle+"</a>",e+="</div>"):e+='<div class="panel__btn panel__btn--bottom"></div>',e+='<div class="panel__btn panel__btn--left">',e+='<a class="panel__btn__label js-nav-toggle" href="#">Creatives</a>',e+="</div>",e+="</div>",e+="</div>",e+="</section>"}),this.ui.$main.append(e)}};e.exports=c},{"./../plugins/jquery.carousel.js":10,"./carousel.js":2,"./contact.js":3,"./nav.js":5,"./panel.js":6,"./popin.js":7,"./slideshow.js":8,"./splash.js":9,"jquery-mousewheel":13}],5:[function(t,e,s){var n={ui:{},timerNav:350,timerPanel:500,init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$body=$("body"),this.ui.$nav=$(".js-nav"),this.ui.$navList=$(".js-nav-list"),this.ui.$panels=$(".js-panel"),this.ui.$toggle=$(".js-nav-toggle"),this.ui.$links=$(".js-nav-link"),this.ui.$imgs=$(".js-nav-img"),this.ui.$panels=$(".js-panel"),this.ui.$navMobile=$(".js-nav-mobile"),this.ui.$navMobileLinks=this.ui.$navMobile.find(".js-nav-link"),this.ui.$navMobilePanels=this.ui.$navMobile.find(".js-nav-mobile-panel"),this.ui.$navMobileBtn=this.ui.$navMobile.find(".js-nav-mobile-btn"),this.ui.$navMobilePanelBtn=this.ui.$navMobile.find(".js-nav-mobile-btn-panel"),this.ui.$navMobilePanelLinks=this.ui.$navMobile.find(".js-nav-mobile-panel-link")},bindEvents:function(){var t=this;this.ui.$toggle.on("click",$.proxy(this.toggleNav,this)),this.ui.$links.on("click",$.proxy(this.getClickedLink,this)),this.ui.$panels.on("mouseenter",$.proxy(this.hideImgs,this)),this.ui.$toggle.on("mouseenter",$.proxy(this.hideImgs,this)),this.ui.$links.on("mousemove",t.throttle(function(i){t.overHandler(i)},20)),this.ui.$navMobileBtn.on("click",$.proxy(this.toggleNavMobile,this)),this.ui.$navMobilePanelBtn.on("click",$.proxy(this.hideNavMobilePanel,this)),this.ui.$navMobilePanelLinks.on("click",$.proxy(this.switchPanel,this)),this.ui.$navMobileLinks.on("click",$.proxy(this.hideNavMobilePanel,this))},overHandler:function(t){var i=$(t.currentTarget),e=i.find(".js-nav-img");X=t.pageX,Y=t.pageY-i.offset().top,this.ui.$links.not(i).removeClass("is-hover"),e.css({"-webkit-transform":"translate("+X+"px,"+Y+"px)","-moz-transform":"translate("+X+"px,"+Y+"px)","-ms-transform":"translate("+X+"px,"+Y+"px)","-o-transform":"translate("+X+"px,"+Y+"px)",transform:"translate("+X+"px,"+Y+"px)"}),i.hasClass("is-hover")||setTimeout(function(){i.addClass("is-hover")},80)},hideImgs:function(){this.ui.$links.removeClass("is-hover")},toggleNav:function(t){t.preventDefault(),this.ui.$body.toggleClass("is-nav-open"),this.ui.$links.removeClass("is-hover")},getClickedLink:function(t){var i=this,e=$(t.currentTarget);t.preventDefault(),this.ui.$body.removeClass("is-nav-open is-nav-mobile-open is-nav-mobile-panel-open"),this.ui.$links.removeClass("is-active"),$(t.currentTarget).addClass("is-active"),setTimeout(function(){i.goToPanel(e)},this.timerNav)},goToPanel:function(t){var e=this,s=t.attr("href"),n=$(".js-panel.is-active"),o=$(s);this.ui.$panels.not(n).not(o).addClass("no-transition");var a=this.ui.$navList.find("li").index(t.parent());for($.each(this.ui.$panels,function(){$(this).not(n).removeClass("is-top").addClass("is-bottom")}),i=0;i<a+1;i++)$(this.ui.$panels[i]).not(n).removeClass("is-bottom").addClass("is-top");var r=n.attr("id").replace("#",""),l=o.attr("id").replace("#","");l>r||"home"==r?(n.removeClass("is-active").addClass("is-top"),o.removeClass("is-top is-bottom").addClass("is-active")):(n.removeClass("is-active").addClass("is-bottom"),o.removeClass("is-top is-bottom").addClass("is-active")),setTimeout(function(){e.ui.$panels.removeClass("no-transition")},this.timerPanel)},toggleNavMobile:function(){this.ui.$body.toggleClass("is-nav-mobile-open")},hideNavMobilePanel:function(){var t=this;this.ui.$navMobilePanels.addClass("no-transition").addClass("is-hidden"),this.ui.$body.removeClass("is-nav-mobile-panel-open"),setTimeout(function(){t.ui.$navMobilePanels.removeClass("no-transition")},this.timerNav)},switchPanel:function(t){t.preventDefault();var i=$(t.currentTarget).attr("href"),e=$(i);e.removeClass("is-hidden"),this.ui.$body.addClass("is-nav-mobile-panel-open")},throttle:function(t,i){var e,s;return function(){var n=this,o=+new Date,a=arguments;e&&e+i>o?(clearTimeout(s),s=setTimeout(function(){e=o,t.apply(n,a)},i)):(e=o,t.apply(n,a))}}};e.exports=n},{}],6:[function(t,i,e){var s={ui:{},scroll:0,timerPanel:500,isAnimated:!1,touch:{isCalculating:!1,start:0,move:0,delta:0},init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$body=$("body"),this.ui.$panels=$(".js-panel"),this.ui.$active=$(".js-panel.is-active"),this.ui.$move=$(".js-panel-move"),this.ui.$navItems=$(".js-nav-list").find("li"),this.ui.$navLink=$(".js-nav-link"),this.ui.$btnTop=this.ui.$active.find(".js-panel-move--top"),this.ui.$btnBottom=this.ui.$active.find(".js-panel-move--bottom")},bindEvents:function(){this.ui.$win.on("mousewheel",$.proxy(this.scrollHandler,this)),this.ui.$win.on("keydown",$.proxy(this.keydownHandler,this)),this.ui.$move.on("click",$.proxy(this.movePanel,this)),this.ui.$navLink.on("click",$.proxy(this.updatePanel,this)),this.ui.$win.on("touchstart",$.proxy(this.touchStart,this)),this.ui.$win.on("touchmove",$.proxy(this.touchMove,this)),this.ui.$win.on("touchend",$.proxy(this.touchEnd,this))},scrollHandler:function(t){this.isAnimated||this.ui.$body.hasClass("is-nav-open")||!this.isDesktop()||(t.deltaY<=-50&&this.ui.$btnBottom.length?this.ui.$btnBottom.click():t.deltaY>50&&this.ui.$btnTop&&this.ui.$btnTop.click())},keydownHandler:function(t){40==t.keyCode&&this.ui.$btnBottom.length&&this.ui.$btnBottom.click(),38==t.keyCode&&this.ui.$btnTop.length&&this.ui.$btnTop.click(),39==t.keyCode&&$(".js-panel.is-active").find(".js-carousel-btn-next").click(),37==t.keyCode&&$(".js-panel.is-active").find(".js-carousel-btn-prev").click()},touchStart:function(t){this.isDesktop()&&(this.isNavOpen()||(this.touch.start=t.originalEvent.touches[0].pageY,this.touch.move=t.originalEvent.touches[0].pageY))},touchMove:function(t){this.isDesktop()&&(this.isNavOpen()||(t.preventDefault(),this.touch.move=t.originalEvent.touches[0].pageY))},touchEnd:function(){var t=this;this.isDesktop()&&(this.isNavOpen()||this.touch.isCalculating||Math.abs(this.touch.move-this.touch.start)<125||(this.touch.isCalculating=!0,this.touch.start>this.touch.move&&this.ui.$btnBottom&&0!=this.touch.move?this.ui.$btnBottom.click():this.touch.start<this.touch.move&&this.ui.$btnTop&&0!=this.touch.move&&this.ui.$btnTop.click(),setTimeout(function(){t.touch.isCalculating=!1},this.timerPanel)))},movePanel:function(t){var i=this,e=$(t.currentTarget);if(!this.isAnimated&&!this.ui.$body.hasClass("is-carousel-full")){t.preventDefault(),this.isAnimated=!0;var s=$(e.attr("href")),n=e.data("direction");"bottom"==n?this.ui.$active.addClass("is-top"):this.ui.$active.addClass("is-bottom"),this.ui.$active.removeClass("is-active"),s.removeClass("is-top is-bottom").addClass("is-active"),this.updateUIEvents(s),setTimeout(function(){s.find(".js-carousel-btn-next").focus(),i.isAnimated=!1},this.timerPanel)}},updatePanel:function(t){var i=$($(t.currentTarget).attr("href"));this.updateUIEvents(i)},updateUIEvents:function(t){this.ui.$active=t;var i=this.ui.$active.attr("id");this.ui.$btnTop=this.ui.$active.find(".js-panel-move--top"),this.ui.$btnBottom=this.ui.$active.find(".js-panel-move--bottom"),"home"!=i?(this.ui.$navLink.removeClass("is-active"),this.ui.$navItems.eq(i).find(".js-nav-link").addClass("is-active")):this.ui.$navLink.removeClass("is-active")},isNavOpen:function(){return this.ui.$body.hasClass("is-nav-open")?!0:!1},isDesktop:function(){return this.ui.$win.outerWidth()>768?!0:!1}};i.exports=s},{}],7:[function(t,i,e){var s={ui:{},init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$popin=$(".js-popin"),this.ui.$video=$(".js-popin-video"),this.ui.$toggle=$(".js-popin-toggle"),this.ui.$close=$(".js-popin-close")},bindEvents:function(){this.ui.$win.on("keydown",$.proxy(this.keyboardHandler,this)),this.ui.$toggle.on("click",$.proxy(this.createIframe,this)),this.ui.$close.on("click",$.proxy(this.closePopin,this))},keyboardHandler:function(t){27==t.keyCode&&this.closePopin()},createIframe:function(t){var i=$(t.currentTarget),e="";t.preventDefault();var s=i.attr("href"),n=i.data("title"),o=i.data("author");e+='<div class="iframe">',e+='<iframe src="'+s+'"></iframe>',e+="</div>",e+='<h2 class="popin__author">'+o+"</h2>",e+='<p class="popin__title">'+n+"</p>",console.log(e),this.ui.$video.html("").append(e),this.ui.$popin.removeClass("is-hidden")},closePopin:function(t){t&&t.preventDefault(),this.ui.$video.html(""),this.ui.$popin.addClass("is-hidden")}};i.exports=s},{}],8:[function(t,i,e){var s={ui:{},intervalListener:"",itemActive:0,timer:400,init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$slideshow=$(".js-slideshow"),this.ui.$home=$("#home"),this.ui.$items=this.ui.$slideshow.find(".js-slideshow-item"),this.ui.$move=$(".js-panel-move")},bindEvents:function(){this.launchSlideshow(),this.ui.$move.on("click",$.proxy(this.playPauseSlideshow,this))},playPauseSlideshow:function(){var t=this;setTimeout(function(){t.ui.$home.hasClass("is-active")?t.launchSlideshow():t.pauseSlideshow()},20)},launchSlideshow:function(){var t=this;intervalListener=setInterval(function(){t.changeSlide(),t.changeColor()},this.timer)},pauseSlideshow:function(){window.clearInterval(intervalListener)},changeSlide:function(){this.itemActive==this.ui.$items.length-1?this.itemActive=0:this.itemActive++,this.ui.$items.removeClass("is-active"),$(this.ui.$items[this.itemActive]).addClass("is-active")},changeColor:function(){var t=$(this.ui.$items[this.itemActive]).data("color");this.ui.$home.css({"background-color":t})}};i.exports=s},{}],9:[function(t,i,e){var s=(t("imagesloaded"),{ui:{},imgsLength:0,imgsLoaded:0,init:function(){this.bindUI(),this.bindEvents()},bindUI:function(){this.ui.$win=$(window),this.ui.$splash=$(".js-splash")},bindEvents:function(){var t=this;setTimeout(function(){t.toggleSplash()},3e3)},toggleSplash:function(){this.ui.$splash.removeClass("is-visible")}});i.exports=s},{imagesloaded:11}],10:[function(t,e,s){!function(t){t.fn.carouselPlugin=function(e){var s={$el:t(this)},e=t.extend(s,e);return this.each(function(){var s={ui:{},itemActive:0,nbItems:0,timerLinks:250,timerCarousel:350,touch:{isCalculating:!1,start:0,move:0,delta:0},init:function(){this.bindUI(),this.bindEvents(),this.initCarousel()},bindUI:function(){this.ui.$win=t(window),this.ui.$body=t("body"),this.ui.$loader=t(".js-loader"),this.ui.$carousel=e.$el,this.ui.$slider=this.ui.$carousel.find(".js-carousel-slider"),this.ui.$items=this.ui.$carousel.find(".js-carousel-item"),this.ui.$fullBtn=this.ui.$carousel.find(".js-carousel-full-btn"),this.ui.$viewer=this.ui.$carousel.find(".js-carousel-viewer"),this.ui.$viewerSlider=this.ui.$carousel.find(".js-carousel-viewer-slider"),this.ui.$btns=this.ui.$carousel.find(".js-carousel-btn"),this.ui.$prev=this.ui.$carousel.find(".js-carousel-btn-prev"),this.ui.$next=this.ui.$carousel.find(".js-carousel-btn-next")},bindEvents:function(){this.ui.$win.on("resize",t.proxy(this.initCarousel,this)),this.ui.$win.on("load",t.proxy(this.initCarousel,this)),this.ui.$btns.on("click",t.proxy(this.prevNext,this)),this.ui.$win.on("keydown",t.proxy(this.keyboardHandler,this)),this.ui.$fullBtn.on("click",t.proxy(this.toggleFullScreen,this)),this.ui.$carousel.on("touchstart",t.proxy(this.touchStart,this)),this.ui.$carousel.on("touchmove",t.proxy(this.touchMove,this)),this.ui.$carousel.on("touchend",t.proxy(this.touchEnd,this))},initCarousel:function(){this.itemActive=0,this.nbItems=this.ui.$items.length,this.initViewer(),this.translateSlider(),this.translateViewer(),this.updateBtns()},keyboardHandler:function(t){27==t.keyCode&&this.ui.$body.hasClass("is-carousel-full")&&this.exitFullScreen()},touchStart:function(t){this.isDesktop()&&(this.touch.start=t.originalEvent.touches[0].pageX,this.touch.move=t.originalEvent.touches[0].pageX)},touchMove:function(t){this.isDesktop()&&(t.preventDefault(),this.touch.move=t.originalEvent.touches[0].pageX)},touchEnd:function(){this.isDesktop()&&(Math.abs(this.touch.move-this.touch.start)<50||(this.touch.move<this.touch.start&&!this.ui.$next.hasClass("is-fade")&&0!=this.touch.move?this.ui.$next.click():this.touch.move>this.touch.start&&!this.ui.$prev.hasClass("is-fade")&&0!=this.touch.move&&this.ui.$prev.click()))},initViewer:function(){var i="";t.each(this.ui.$items,function(){var e=t(this),s=e.index();e.hasClass("js-carousel-item--text")&&(i+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',i+='<svg class="icon icon-text" viewBox="0 0 30 39"><rect fill="#FFFFFF" x="0" y="0" width="25" height="2"></rect><rect fill="#FFFFFF" x="0" y="7" width="30" height="2"></rect><rect fill="#4D4D4D" x="0" y="14" width="30" height="1"></rect><rect fill="#4D4D4D" x="0" y="18" width="25" height="1"></rect><rect fill="#4D4D4D" x="0" y="22" width="30" height="1"></rect><rect fill="#4D4D4D" x="0" y="26" width="25" height="1"></rect><rect fill="#4D4D4D" x="0" y="30" width="30" height="1"></rect><rect fill="#4D4D4D" x="0" y="34" width="25" height="1"></rect><rect fill="#4D4D4D" x="0" y="38" width="20" height="1"></rect></svg>',i+="</li>"),e.hasClass("js-carousel-item--video")&&(i+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',i+='<img class="carousel__viewer__img" src="'+e.find("iframe").data("thumbnail")+'"/>',i+="</li>"),e.hasClass("js-carousel-item--doc")&&(i+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',i+='<svg class="icon icon-pdf--sml" viewBox="0 0 26 40"><rect x="0" y="0" width="26" height="40"></rect></svg>',i+="</li>"),e.find("img").length&&(i+='<li class="carousel__viewer__item js-carousel-viewer-item" data-index="'+s+'">',i+='<img class="carousel__viewer__img" src="'+e.find("img").attr("src")+'"/>',i+="</li>")}),this.ui.$viewerSlider.html("").append(i),this.ui.$viewerItems=this.ui.$carousel.find(".js-carousel-viewer-item"),this.ui.$viewerItems.on("click",t.proxy(this.goTo,this))},goTo:function(i){var e=t(i.currentTarget).data("index");this.itemActive=e,this.translateSlider(),this.translateViewer()},prevNext:function(i){var e=t(i.currentTarget).data("direction");("prev"!=e||0!=this.itemActive)&&("next"!=e||this.itemActive!=this.nbItems-1)&&("next"==e?this.itemActive++:this.itemActive--,this.translateSlider(),this.translateViewer())},translateSlider:function(){var e=0;for(i=0;i<this.itemActive;i++)e-=t(this.ui.$items[i]).outerWidth();this.ui.$slider.css({"-webkit-transform":"translate("+e+"px,0)","-moz-transform":"translate("+e+"px,0)","-ms-transform":"translate("+e+"px,0)","-o-transform":"translate("+e+"px,0)",transform:"translate("+e+"px,0)"}),this.ui.$items.removeClass("is-active"),t(this.ui.$items[this.itemActive]).addClass("is-active"),this.updateBtns()},translateViewer:function(){var e=0;for(i=0;i<this.itemActive;i++)e-=t(this.ui.$viewerItems[i]).outerWidth();this.ui.$viewerSlider.css({"-webkit-transform":"translate("+e+"px,0)","-moz-transform":"translate("+e+"px,0)","-ms-transform":"translate("+e+"px,0)","-o-transform":"translate("+e+"px,0)",transform:"translate("+e+"px,0)"})},updateBtns:function(){0==this.itemActive?(this.ui.$prev.addClass("is-fade"),this.ui.$next.removeClass("is-fade")):this.itemActive==this.ui.$items.length-1?(this.ui.$prev.removeClass("is-fade"),this.ui.$next.addClass("is-fade")):this.ui.$btns.removeClass("is-fade")},toggleFullScreen:function(i){var e=this;i&&i.preventDefault(),this.ui.$loader.addClass("is-visible"),setTimeout(function(){e.ui.$body.toggleClass("is-carousel-full"),setTimeout(function(){i&&!t(i.currentTarget).hasClass("js-carousel-full-close")&&(e.itemActive=t(i.currentTarget).closest(".js-carousel-item").data("index")),e.translateSlider(),e.translateViewer(),setTimeout(function(){e.ui.$loader.removeClass("is-visible")},e.timerCarousel)},e.timerCarousel)},this.timerLinks)},exitFullScreen:function(){var t=this;this.ui.$loader.addClass("is-visible"),setTimeout(function(){t.ui.$body.removeClass("is-carousel-full"),setTimeout(function(){t.ui.$loader.removeClass("is-visible")},t.timerCarousel)},this.timerLinks)},isDesktop:function(){return this.ui.$win.outerWidth()>768?!0:!1}};s.init()})}}(jQuery)},{}],11:[function(t,i,e){!function(e,s){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return s(e,t)}):"object"==typeof i&&i.exports?i.exports=s(e,t("ev-emitter")):e.imagesLoaded=s(e,e.EvEmitter)}(window,function(t,i){"use strict";function e(t,i){for(var e in i)t[e]=i[e];return t}function s(t){var i=[];if(Array.isArray(t))i=t;else if("number"==typeof t.length)for(var e=0;e<t.length;e++)i.push(t[e]);else i.push(t);return i}function n(t,i,o){return this instanceof n?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=e({},this.options),"function"==typeof i?o=i:e(this.options,i),o&&this.on("always",o),this.getImages(),r&&(this.jqDeferred=new r.Deferred),void setTimeout(function(){this.check()}.bind(this))):new n(t,i,o)}function o(t){this.img=t}function a(t,i){this.url=t,this.element=i,this.img=new Image}var r=t.jQuery,l=t.console;n.prototype=Object.create(i.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var i=t.nodeType;if(i&&h[i]){for(var e=t.querySelectorAll("img"),s=0;s<e.length;s++){var n=e[s];this.addImage(n)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(s=0;s<o.length;s++){var a=o[s];this.addElementBackgroundImages(a)}}}};var h={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var i=getComputedStyle(t);if(i)for(var e=/url\((['"])?(.*?)\1\)/gi,s=e.exec(i.backgroundImage);null!==s;){var n=s&&s[2];n&&this.addBackground(n,t),s=e.exec(i.backgroundImage)}},n.prototype.addImage=function(t){var i=new o(t);this.images.push(i)},n.prototype.addBackground=function(t,i){var e=new a(t,i);this.images.push(e)},n.prototype.check=function(){function t(t,e,s){setTimeout(function(){i.progress(t,e,s)})}var i=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(i){i.once("progress",t),i.check()}):void this.complete()},n.prototype.progress=function(t,i,e){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,i]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+e,t,i)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var i=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[i](this)}},o.prototype=Object.create(i.prototype),o.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,i){this.isLoaded=t,this.emitEvent("progress",[this,this.img,i])},o.prototype.handleEvent=function(t){var i="on"+t.type;this[i]&&this[i](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(o.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,i){this.isLoaded=t,this.emitEvent("progress",[this,this.element,i])},n.makeJQueryPlugin=function(i){i=i||t.jQuery,i&&(r=i,r.fn.imagesLoaded=function(t,i){var e=new n(this,t,i);return e.jqDeferred.promise(r(this))})},n.makeJQueryPlugin(),n})},{"ev-emitter":12}],12:[function(t,i,e){!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof i&&i.exports?i.exports=e():t.EvEmitter=e()}(this,function(){"use strict";function t(){}var i=t.prototype;return i.on=function(t,i){if(t&&i){var e=this._events=this._events||{},s=e[t]=e[t]||[];return-1==s.indexOf(i)&&s.push(i),this}},i.once=function(t,i){if(t&&i){this.on(t,i);var e=this._onceEvents=this._onceEvents||{},s=e[t]=e[t]||[];return s[i]=!0,this}},i.off=function(t,i){var e=this._events&&this._events[t];if(e&&e.length){var s=e.indexOf(i);return-1!=s&&e.splice(s,1),this}},i.emitEvent=function(t,i){var e=this._events&&this._events[t];if(e&&e.length){var s=0,n=e[s];i=i||[];for(var o=this._onceEvents&&this._onceEvents[t];n;){var a=o&&o[n];a&&(this.off(t,n),delete o[n]),n.apply(this,i),s+=a?0:1,n=e[s]}return this}},t})},{}],13:[function(t,i,e){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof e?i.exports=t:t(jQuery)}(function(t){function i(i){var a=i||window.event,r=l.call(arguments,1),h=0,c=0,d=0,v=0,m=0,p=0;if(i=t.event.fix(a),i.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(c=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=-1*d,d=0),h=0===d?c:d,"deltaY"in a&&(d=-1*a.deltaY,h=d),"deltaX"in a&&(c=a.deltaX,0===d&&(h=-1*c)),0!==d||0!==c){if(1===a.deltaMode){var f=t.data(this,"mousewheel-line-height");h*=f,d*=f,c*=f}else if(2===a.deltaMode){var g=t.data(this,"mousewheel-page-height");h*=g,d*=g,c*=g}if(v=Math.max(Math.abs(d),Math.abs(c)),(!o||o>v)&&(o=v,s(a,v)&&(o/=40)),s(a,v)&&(h/=40,c/=40,d/=40),h=Math[h>=1?"floor":"ceil"](h/o),c=Math[c>=1?"floor":"ceil"](c/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var $=this.getBoundingClientRect();m=i.clientX-$.left,p=i.clientY-$.top}return i.deltaX=c,i.deltaY=d,i.deltaFactor=o,i.offsetX=m,i.offsetY=p,i.deltaMode=0,r.unshift(i,h,c,d),n&&clearTimeout(n),n=setTimeout(e,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function e(){o=null}function s(t,i){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&i%120===0}var n,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var h=a.length;h;)t.event.fixHooks[a[--h]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],i,!1);else this.onmousewheel=i;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],i,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(i){var e=t(i),s=e["offsetParent"in t.fn?"offsetParent":"parent"]();return s.length||(s=t("body")),parseInt(s.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(i){return t(i).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},{}]},{},[1]);